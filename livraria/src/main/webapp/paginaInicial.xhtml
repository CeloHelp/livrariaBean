<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" href="./resources/css/Style.css"/>
    <title>Livraria</title>
</h:head>

<h:body style="background-color:#FFF8E8; ">
    <h1 style="	font-size: 2.5rem;
	color:  #008080; 
	text-align: center;
	letter-spacing: 0.4rem;
	font-family: 'Chakra Petch', sans-serif;">Bem Vindo a Livraria!</h1>

    <p Style="color:  #008080;
    text-align: center;
    font-weight: bold;
    font-size: 20px;
    font-family: 'Chakra Petch', sans-serif;">
        Preencha os campos abaixo para cadastrar o livro!
    </p>

    <div style="margin-bottom: 100px;
    align-items: center;">
        <h:form>

            <p:dialog header="Aviso" widgetVar="campoObrigatorioDialog"
                      modal="true" closable="false" resizable="false">
                <h:outputText value="Por favor, preencha os campos em Branco." />
                <p:commandButton value="Ok" onclick="PF('campoObrigatorioDialog').hide()" type="button" />
            </p:dialog>

            <style>
                .ui-filter-column .ui-column-customfilter .custom-filter {
                    width: 100%;
                    box-sizing: border-box;
                }
            </style>

            <div style="display: flex;
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center;     /* Centraliza verticalmente */
    height: 70px;">
                <span class="ui-float-label"> 
                    <p:inputText id="titulo" value="#{livroBean.titulo}" required="true" requiredMessage="Campo Obrigatório" />
                    <p:outputLabel for="titulo" value="Título:" />
                </span>
                <p:message for="titulo" />
            </div>

            <div style=" display: flex;
                         justify-content: center; 
                         align-items: center;    
                         height: 70px;">
                <span class="ui-float-label"> 
                    <p:inputText id="autor" value="#{livroBean.autor}" required="true" requiredMessage="Campo Obrigatório" />
                    <p:outputLabel for="autor" value="Autor:" />
                </span>
                <p:message for="autor" />
            </div>

            <div style="display: flex;
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center;     /* Centraliza verticalmente */
    height: 70px;">
                <span class="ui-float-label">
                    <!-- Input para o ISBN -->
                    <p:inputText id="isbn" value="#{livroBean.isbn}" maxlength="10" required="true" requiredMessage="Campo Obrigatório">
                        <!-- Corrigindo a tag de validação -->
                        <f:validateRegex pattern="^[0-9]{1,10}$" />
                    </p:inputText>
                    <!-- Label associado ao input de ISBN -->
                    <p:outputLabel for="isbn" value="ISBN-10:" />
                </span>
                <!-- Mensagem de validação -->
                <p:message for="isbn" />
            </div>

            <div style="display: flex;
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center;     /* Centraliza verticalmente */
    height: 70px;">
                <span class="ui-float-label"> 
                    <p:inputText id="preco" value="#{livroBean.preco}" required="true" requiredMessage="Campo Obrigatório" />
                    <p:outputLabel for="preco" value="Preço:" />
                </span>
                <p:message for="preco" />
            </div>

            <div style="display: flex;
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center;     /* Centraliza verticalmente */
    height: 70px;">
                <span class="ui-float-label"> 
                    <p:inputText id="imagem" value="#{livroBean.imagem}" required="true" requiredMessage="Campo Obrigatório" />
                    <p:outputLabel for="imagem" value="URL da Imagem:" />
                </span>
                <p:message for="imagem" />
            </div>
            
            <div>
            <p:commandButton value="Salvar Livro" icon="pi pi-bookmark"
                             style="background-color:  #43766C;
                             margin-left: 530px;"
              action="#{acoesBean.acaoSalvar}" update="@form" process="@form" resetValues="true"
              oncomplete="if (args.validationFailed)  { PF('campoObrigatorioDialog').show('Não foi possível cadastrar o livro'); } else { alert('Livro Cadastrado com sucesso'); }" />
            
            
            <p:commandButton value="Seus Livros" icon="pi pi-heart"
                             style="background-color:  #43766C;
                             "
                             action="#{acoesBean.acaoProximaPagina}" immediate="true" />
            
            </div>

           

            <h:messages globalOnly="true" />

        </h:form>
    </div>

    <footer style="
    font-family: 'Chakra Petch', sans-serif;
    font-weight: bold;
    text-align: center;
    padding: 8px;
    background-color:#F7EED3 ;
    color: #333;
    position: fixed;
    width: 100%;
    bottom: 0;
    left: 0;
    font-size: 14px;">
        <p>Todos os direitos Reservados.</p>
    </footer>
</h:body>

</html>
